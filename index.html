<!DOCTYPE html>

<html>
<head>
    <title>Test Page</title>
    
    <link rel="stylesheet" type="text/css" href="css/content.css">
    <link rel="stylesheet" type="text/css" href="css/autocomplete.css">
    <script type="text/javascript" src="js/Nu.js"></script>
    <script type="text/javascript" src="js/Content.js"></script>
    <script type="text/javascript" src="js/AutoComplete.js"></script>
</head>
<body>
    <p>
        AutoComplete is a sample extension/implementation of the Content Class
        takes advantage of the content queries and filters the setDesign and event driven function
        the AutoComplete Class creates the inputbox on its own
        ready to be styled using css
    </p>
<div id="autoCon">
</div>
<script type="text/javascript">
    /*
     * Object Database
     */
    
    var friendDB = [{ fbid:4, data:"adsdsds"},
                { fbid:5, data:"asd"},
                { fbid:6, data:"sdasd"},
                { fbid:7, data:"teasfasdfst"},
                { fbid:8, data:"asdf"},
                { fbid:9, data:"teadsfasfst"}];
</script>
<script type="text/javascript">
    
    /*
     * AutoComplete is a sample extension/implementation of the Content Class
     * takes advantage of the content queries and filters the setDesign and event driven function
     * the AutoComplete Class creates the inputbox on its own
     * ready to be styled using css
     */
    
    var auto = new AutoComplete("autoCon");
    auto.setDesign('<img onclick="onAutoClick(${this})" src="https://graph.facebook.com/${fbid}/picture?type=square" /> <span class="name">${data}</span>');
    auto.setDB(friendDB);
    //auto.maxContent = 5;
    auto.addListener(ContentEvent.CONTENT_SELECT, onAutoSelect);
    //auto.addListener(ContentEvent.CONTENT_OVER, onAutoOver);
    //auto.selectEnabled = false;
    auto.getInput().placeholder = "Type your friends name";
    //auto.show();
    function onAutoClick(e) {
        //auto.getInput().value = e.data;
       //auto.hideContent();
    }
    
    function onAutoSelect(e) {
        alert("onAutoSelect");
        auto.getInput().value = e.data;
        auto.hideContent();
    }
    function onAutoOver(e) {
       // alert(e.id);
    }
    
    console.log("auto " + auto.listeners);
</script>
<div id="fbidHolder">
    
</div>
<br>
<div id="dataHolder">
    
</div>
<br>
<div id="contentCon">
    
</div>

<script type="text/javascript">
    
    
    var content = new Content("content");
    content.setDesign('<img onclick="onContentClick(${this})" src="https://graph.facebook.com/${fbid}/picture?type=square" /> <span class="name">${data}</span>');
    content.setDB(friendDB);
    content.addListener(ContentEvent.CONTENT_SELECT, onContentSelect);
    content.addListener(ContentEvent.CONTENT_OVER, onContentOver);
    //auto.selectEnabled = false;
    content.elem("contentCon").innerHTML = content.getContent();
    function onContentClick(e) {
       //content.hideContent();
    }
    function onContentSelect(e) {
        alert("onContentSelect");
        content.elem("fbidHolder").innerHTML = e.fbid;
        content.elem("dataHolder").innerHTML = e.data;
    }
    function onContentOver(e) {
        //alert(e.id);
    }
</script>
</body>
</html>
